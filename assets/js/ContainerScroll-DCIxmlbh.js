import{r as e,j as t,R as r}from"./react-vendor-CVkX8L8d.js";import"./misc-vendor-C-TUhJNj.js";const n=({translate:r,children:n})=>{const s=e.useMemo(()=>{const e=Math.abs(r)/120;return{opacity:Math.max(.3,1-.7*e),scale:Math.max(.9,1-.1*e)}},[r]);return t.jsx("div",{className:"mx-auto max-w-5xl text-center transform-gpu will-change-transform",style:{transform:`translateY(${r}px) scale(${s.scale})`,opacity:s.opacity},children:n})},s=({rotate:n,scale:s,isInView:a=!0,children:o})=>{const i=e.useRef(null),[l,c]=e.useState(!1),[d,u]=e.useState(!1),[m,p]=e.useState(0),[h,x]=e.useState(0),[f,v]=e.useState(!1),w=()=>{i.current&&(l?i.current.pause():i.current.play(),c(!l))},b=(e,t)=>{if(i.current){const r=e-t.left,n=t.width,s=Math.max(0,Math.min(1,r/n)),a=s*i.current.duration;i.current.currentTime=a,p(100*s)}},g=e=>{if(f){const t=document.querySelector(".video-progress-bar");if(t){const r=t.getBoundingClientRect();b(e.clientX,r)}e.preventDefault()}},y=()=>{v(!1)};r.useEffect(()=>{if(f)return document.addEventListener("mousemove",g,{passive:!1}),document.addEventListener("mouseup",y),document.body.style.cursor="grabbing",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect=""}},[f]);const j=e.useMemo(()=>{const e=Math.max(.3,Math.min(1,s)),t=.02*Math.abs(n);return`\n      0 0 rgba(0, 0, 0, ${.3*e}),\n      0 ${9+t}px ${20+t}px rgba(0, 0, 0, ${.29*e}),\n      0 ${37+2*t}px ${37+2*t}px rgba(0, 0, 0, ${.26*e}),\n      0 ${84+3*t}px ${50+2*t}px rgba(0, 0, 0, ${.15*e}),\n      0 ${149+4*t}px ${60+3*t}px rgba(0, 0, 0, ${.04*e}),\n      0 ${233+5*t}px ${65+3*t}px rgba(0, 0, 0, ${.01*e})\n    `},[n,s]);return t.jsx("div",{style:{transform:`rotateX(${n}deg) scale(${s})`,boxShadow:j,opacity:a?1:.8,transition:"opacity 0.3s ease-out"},className:"mx-auto -mt-12 h-[325px] w-full max-w-4xl rounded-[30px] border-4 border-[#6C6C6C] bg-[#222222] p-2 shadow-2xl md:h-[485px] md:max-w-4xl md:p-6 transform-gpu will-change-transform",children:t.jsx("div",{className:"size-full overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 md:rounded-2xl",children:t.jsxs("div",{className:"size-full rounded-2xl overflow-hidden relative bg-gradient-to-br from-gray-900 to-black group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:w,children:[t.jsx("video",{ref:i,src:"/videos/kitchen-side-demo.mp4",className:"absolute inset-0 w-full h-full object-contain opacity-90 rounded-2xl",loop:!0,muted:!0,playsInline:!0,onTimeUpdate:()=>{if(i.current){const e=i.current.currentTime,t=i.current.duration;p(e/t*100)}},onLoadedMetadata:()=>{i.current&&x(i.current.duration)},onPlay:()=>c(!0),onPause:()=>c(!1)}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-opacity duration-300 "+(d||!l?"opacity-100":"opacity-0"),children:t.jsx("button",{onClick:e=>{e.stopPropagation(),w()},className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-full p-4 transition-all duration-200 hover:scale-110",children:l?t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})})}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4 transition-opacity duration-300 "+(d||f?"opacity-100":"opacity-0"),children:t.jsxs("div",{className:"video-progress-bar relative w-full h-6 flex items-center cursor-pointer group",onClick:e=>{const t=e.currentTarget.getBoundingClientRect();b(e.clientX,t)},onMouseDown:e=>{v(!0);const t=e.currentTarget.getBoundingClientRect();b(e.clientX,t),e.preventDefault()},children:[t.jsx("div",{className:"relative w-full h-1.5 bg-black/50 rounded-full backdrop-blur-sm",children:t.jsx("div",{className:"h-full bg-white/90 rounded-full transition-all duration-200",style:{width:`${m}%`,transition:f?"none":"width 0.2s ease"}})}),t.jsx("div",{className:`absolute w-4 h-4 bg-white rounded-full shadow-lg transition-all duration-200 ${f?"scale-125":"scale-100 group-hover:scale-110"} ${f?"cursor-grabbing":"cursor-grab"}`,style:{left:`calc(${m}% - 8px)`,opacity:d||f?1:0,top:"50%",transform:"translateY(-50%)"}})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none"}),o&&t.jsx("div",{className:"relative z-10 size-full flex items-center justify-center p-4",children:o}),t.jsx("div",{className:"absolute inset-2 rounded-xl border border-white/5 pointer-events-none"})]})})})},a=({title:r,card:a})=>{const o=e.useRef(null),[i,l]=e.useState(!1),[c,d]=e.useState({scrollYProgress:0,isInView:!1,windowHeight:"undefined"!=typeof window?window.innerHeight:800,containerBottom:0}),u=e.useCallback(()=>{l(window.innerWidth<=768)},[]);e.useEffect(()=>(u(),window.addEventListener("resize",u,{passive:!0}),()=>window.removeEventListener("resize",u)),[u]);const m=e.useCallback(()=>{if(!o.current)return;const e=o.current.getBoundingClientRect(),t=window.innerHeight,r=window.scrollY||document.documentElement.scrollTop,n=e.bottom+r,s=e.height,a=e.top<1.2*t&&e.bottom>.2*-t;let i=0;if(n>r){const e=s+t,a=(e-Math.max(0,n-r))/e;i=Math.max(0,Math.min(1,2*a))}else i=1;const l=i<.5?2*i*i:1-Math.pow(-2*i+2,3)/2;d({scrollYProgress:l,isInView:a,windowHeight:t,containerBottom:n})},[]),p=(t=>{const r=e.useRef(Date.now());return e.useCallback((...e)=>{Date.now()-r.current>=16&&(t(...e),r.current=Date.now())},[t,16])})(m);e.useEffect(()=>{const e=setTimeout(m,100);let t;window.addEventListener("scroll",p,{passive:!0});const r=()=>{clearTimeout(t),t=setTimeout(m,150)};return window.addEventListener("resize",r,{passive:!0}),()=>{clearTimeout(e),clearTimeout(t),window.removeEventListener("scroll",p),window.removeEventListener("resize",r)}},[m,p]);const h=e.useMemo(()=>{const{scrollYProgress:e}=c,t=i?[.65,.95]:[1.08,1.02],r=(i?15:25)*(1-e),[n,s]=t;return{rotate:r,scale:n+(s-n)*e,translateY:(i?-80:-120)*e}},[c,i]);return t.jsxs("div",{ref:o,className:"relative flex h-[50rem] md:h-[65rem] items-center justify-center p-2 md:p-12 overflow-hidden",style:{background:"linear-gradient(135deg, #2C1E1A 0%, #3A2B24 50%, #2C1E1A 100%)"},children:[t.jsxs("div",{className:"absolute inset-0 opacity-30",children:[t.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600/10 rounded-full blur-3xl transform transition-transform duration-1000",style:{transform:`translateX(${.3*h.translateY}px) translateY(${.2*h.translateY}px)`}}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl transform transition-transform duration-1000",style:{transform:`translateX(${-.2*h.translateY}px) translateY(${.4*h.translateY}px)`}})]}),t.jsxs("div",{className:"relative w-full py-6 md:py-20",style:{perspective:"1000px"},children:[t.jsx(n,{translate:h.translateY,children:r}),t.jsx(s,{rotate:h.rotate,scale:h.scale,isInView:c.isInView,children:a})]})]})};export{a as default};
