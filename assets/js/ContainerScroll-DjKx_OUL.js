import{r,j as e,R}from"./react-vendor-DVqzvtKG.js";import"./crypto-vendor-CJzBceq2.js";const L=({translate:a,children:d})=>{const i=r.useMemo(()=>{const l=Math.abs(a)/120,o=Math.max(.3,1-l*.7),m=Math.max(.9,1-l*.1);return{opacity:o,scale:m}},[a]);return e.jsx("div",{className:"mx-auto max-w-5xl text-center transform-gpu will-change-transform",style:{transform:`translateY(${a}px) scale(${i.scale})`,opacity:i.opacity},children:d})},P=({rotate:a,scale:d,isInView:i=!0,children:l})=>{const o=r.useRef(null),[m,y]=r.useState(!1),[g,x]=r.useState(!1),[b,p]=r.useState(0),[c,f]=r.useState(0),[n,u]=r.useState(!1),w=()=>{o.current&&(m?o.current.pause():o.current.play(),y(!m))},j=()=>{if(o.current){const t=o.current.currentTime,s=o.current.duration;p(t/s*100)}},h=()=>{o.current&&f(o.current.duration)},v=(t,s)=>{if(o.current){const C=t-s.left,k=s.width,T=Math.max(0,Math.min(1,C/k)),Y=T*o.current.duration;o.current.currentTime=Y,p(T*100)}},$=t=>{const s=t.currentTarget.getBoundingClientRect();v(t.clientX,s)},M=t=>{u(!0);const s=t.currentTarget.getBoundingClientRect();v(t.clientX,s),t.preventDefault()},S=t=>{if(n){const s=document.querySelector(".video-progress-bar");if(s){const C=s.getBoundingClientRect();v(t.clientX,C)}t.preventDefault()}},N=()=>{u(!1)};R.useEffect(()=>{if(n)return document.addEventListener("mousemove",S,{passive:!1}),document.addEventListener("mouseup",N),document.body.style.cursor="grabbing",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",N),document.body.style.cursor="",document.body.style.userSelect=""}},[n]);const E=r.useMemo(()=>{const t=Math.max(.3,Math.min(1,d)),s=Math.abs(a)*.02;return`
      0 0 rgba(0, 0, 0, ${.3*t}),
      0 ${9+s}px ${20+s}px rgba(0, 0, 0, ${.29*t}),
      0 ${37+s*2}px ${37+s*2}px rgba(0, 0, 0, ${.26*t}),
      0 ${84+s*3}px ${50+s*2}px rgba(0, 0, 0, ${.15*t}),
      0 ${149+s*4}px ${60+s*3}px rgba(0, 0, 0, ${.04*t}),
      0 ${233+s*5}px ${65+s*3}px rgba(0, 0, 0, ${.01*t})
    `},[a,d]);return e.jsx("div",{style:{transform:`rotateX(${a}deg) scale(${d})`,boxShadow:E,opacity:i?1:.8,transition:"opacity 0.3s ease-out"},className:"mx-auto -mt-12 h-[325px] w-full max-w-4xl rounded-[30px] border-4 border-[#6C6C6C] bg-[#222222] p-2 shadow-2xl md:h-[485px] md:max-w-4xl md:p-6 transform-gpu will-change-transform",children:e.jsx("div",{className:"size-full overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 md:rounded-2xl",children:e.jsxs("div",{className:"size-full rounded-2xl overflow-hidden relative bg-gradient-to-br from-gray-900 to-black group cursor-pointer",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:w,children:[e.jsx("video",{ref:o,src:"/videos/kitchen-side-demo.mp4",className:"absolute inset-0 w-full h-full object-contain opacity-90 rounded-2xl",loop:!0,muted:!0,playsInline:!0,onTimeUpdate:j,onLoadedMetadata:h,onPlay:()=>y(!0),onPause:()=>y(!1)}),e.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity duration-300 ${g||!m?"opacity-100":"opacity-0"}`,children:e.jsx("button",{onClick:t=>{t.stopPropagation(),w()},className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-full p-4 transition-all duration-200 hover:scale-110",children:m?e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})}),e.jsx("div",{className:`absolute bottom-4 left-4 right-4 transition-opacity duration-300 ${g||n?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"video-progress-bar relative w-full h-6 flex items-center cursor-pointer group",onClick:$,onMouseDown:M,children:[e.jsx("div",{className:"relative w-full h-1.5 bg-black/50 rounded-full backdrop-blur-sm",children:e.jsx("div",{className:"h-full bg-white/90 rounded-full transition-all duration-200",style:{width:`${b}%`,transition:n?"none":"width 0.2s ease"}})}),e.jsx("div",{className:`absolute w-4 h-4 bg-white rounded-full shadow-lg transition-all duration-200 ${n?"scale-125":"scale-100 group-hover:scale-110"} ${n?"cursor-grabbing":"cursor-grab"}`,style:{left:`calc(${b}% - 8px)`,opacity:g||n?1:0,top:"50%",transform:"translateY(-50%)"}})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none"}),l&&e.jsx("div",{className:"relative z-10 size-full flex items-center justify-center p-4",children:l}),e.jsx("div",{className:"absolute inset-2 rounded-xl border border-white/5 pointer-events-none"})]})})})},z=(a,d)=>{const i=r.useRef(Date.now());return r.useCallback((...l)=>{Date.now()-i.current>=d&&(a(...l),i.current=Date.now())},[a,d])},I=({title:a,card:d})=>{const i=r.useRef(null),[l,o]=r.useState(!1),[m,y]=r.useState({scrollYProgress:0,isInView:!1,windowHeight:typeof window<"u"?window.innerHeight:800,containerBottom:0}),g=r.useCallback(()=>{o(window.innerWidth<=768)},[]);r.useEffect(()=>(g(),window.addEventListener("resize",g,{passive:!0}),()=>window.removeEventListener("resize",g)),[g]);const x=r.useCallback(()=>{if(!i.current)return;const c=i.current.getBoundingClientRect(),f=window.innerHeight,n=window.scrollY||document.documentElement.scrollTop,u=c.bottom+n,w=c.height,j=c.top<f*1.2&&c.bottom>-f*.2;let h=0;if(u>n){const $=Math.max(0,u-n),M=w+f,S=(M-$)/M;h=Math.max(0,Math.min(1,S*2))}else h=1;const v=h<.5?2*h*h:1-Math.pow(-2*h+2,3)/2;y({scrollYProgress:v,isInView:j,windowHeight:f,containerBottom:u})},[]),b=z(x,16);r.useEffect(()=>{const c=setTimeout(x,100);(()=>{window.addEventListener("scroll",b,{passive:!0})})();let n;const u=()=>{clearTimeout(n),n=setTimeout(x,150)};return window.addEventListener("resize",u,{passive:!0}),()=>{clearTimeout(c),clearTimeout(n),window.removeEventListener("scroll",b),window.removeEventListener("resize",u)}},[x,b]);const p=r.useMemo(()=>{const{scrollYProgress:c}=m,f=l?[.65,.95]:[1.08,1.02],u=(l?15:25)*(1-c),[w,j]=f,h=w+(j-w)*c,$=(l?-80:-120)*c;return{rotate:u,scale:h,translateY:$}},[m,l]);return e.jsxs("div",{ref:i,className:"relative flex h-[50rem] md:h-[65rem] items-center justify-center p-2 md:p-12 overflow-hidden",style:{background:"linear-gradient(135deg, #2C1E1A 0%, #3A2B24 50%, #2C1E1A 100%)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600/10 rounded-full blur-3xl transform transition-transform duration-1000",style:{transform:`translateX(${p.translateY*.3}px) translateY(${p.translateY*.2}px)`}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl transform transition-transform duration-1000",style:{transform:`translateX(${p.translateY*-.2}px) translateY(${p.translateY*.4}px)`}})]}),e.jsxs("div",{className:"relative w-full py-6 md:py-20",style:{perspective:"1000px"},children:[e.jsx(L,{translate:p.translateY,children:a}),e.jsx(P,{rotate:p.rotate,scale:p.scale,isInView:m.isInView,children:d})]})]})};export{I as default};
